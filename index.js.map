{"version":3,"file":"index.js","sources":["../src/js/config.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/api/';\nexport const KEY = '32589447-ffbdd7a8f0a573b29764024b7';","import { BASE_URL } from './config';\nimport { KEY } from './config';\n\nexport function fetchImg(searchParams = 'pug') {\n  return fetch(\n    `${BASE_URL}?key=${KEY}&q=${searchParams}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error('error');\n    }\n    return res.json();\n  });\n}\n","const galleryEl = document.querySelector('.gallery-list');\n\nfunction createMarkupLi(img) {\n  const {\n    tags,\n    comments,\n    downloads,\n    largeImageURL,\n    likes,\n    views,\n    webformatURL,\n  } = img;\n\n  return `<li class=\"gallery-item\">\n            <div class=\"img-container\">\n             <a href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" />\n              </a>\n            </div>\n            <ul class=\"info-list\">\n              <li class=\"info-item\">\n                <p class=\"info-name\">Likes</p>\n                <p class=\"info-value\">${likes}</p>\n              </li>\n              <li>\n                <p class=\"info-name\">Views</p>\n                <p class=\"info-value\">${views}</p>\n              </li>\n              <li>\n                <p class=\"info-name\">Comments</p>\n                <p class=\"info-value\">${comments}</p>\n              </li>\n              <li>\n                <p class=\"info-name\">Downloads</p>\n                <p class=\"info-value\">${downloads}</p>\n              </li>\n            </ul>\n          </li>`;\n}\n\nexport const renderImg = data => {\n  const imgMarkup = data.map(createMarkupLi).join('');\n  galleryEl.insertAdjacentHTML('beforeend', imgMarkup);\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImg } from './js/pixabay-api';\nimport { renderImg } from './js/render-functions';\n\nconst formEl = document.querySelector('.search-container');\nconst galleryEl = document.querySelector('.gallery-list');\nconst lightbox = new SimpleLightbox('.gallery-list a');\nconst loaderEl = document.querySelector('.loader');\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const { query } = form.elements;\n  galleryEl.innerHTML = '';\n\n  loaderEl.style.display = 'block';\n\n  const searchValue = query.value.trim();\n\n  if (!searchValue) {\n    iziToast.error({\n      position: 'topRight',\n      iconColor: '#FAFAFB',\n      message: 'Ð¡an not be empty or contain only spaces!',\n      backgroundColor: '#EF4040',\n    });\n    loaderEl.style.display = 'none';\n    return;\n  }\n\n  fetchImg(searchValue)\n    .then(data => {\n      const imgArr = data.hits;\n\n      if (imgArr.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          iconColor: '#FAFAFB',\n          message: `Sorry, there are no images matching <br/>your search query. Please try again!`,\n          backgroundColor: '#EF4040',\n        });\n        formEl.reset();\n      } else {\n        galleryEl.innerHTML = '';\n        renderImg(imgArr);\n        lightbox.refresh();\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n        position: 'topRight',\n        iconColor: '#FAFAFB',\n        message: `An error occurred. Please try again later!`,\n        backgroundColor: '#FF0000',\n      });\n\n      console.log(err);\n    })\n    .finally(() => {\n      loaderEl.style.display = 'none';\n    });\n\n  formEl.reset();\n}\n\nformEl.addEventListener('submit', handleFormSubmit);\n"],"names":["BASE_URL","KEY","fetchImg","searchParams","res","galleryEl","createMarkupLi","img","tags","comments","downloads","largeImageURL","likes","views","webformatURL","renderImg","data","imgMarkup","formEl","lightbox","SimpleLightbox","loaderEl","handleFormSubmit","event","form","query","searchValue","iziToast","imgArr","err"],"mappings":"6vBAAO,MAAMA,EAAW,2BACXC,EAAM,qCCEZ,SAASC,EAASC,EAAe,MAAO,CAC7C,OAAO,MACL,GAAGH,CAAQ,QAAQC,CAAG,MAAME,CAAY,0DAC5C,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,OAAO,EAEzB,OAAOA,EAAI,MACf,CAAG,CACH,CCZA,MAAMC,EAAY,SAAS,cAAc,eAAe,EAExD,SAASC,EAAeC,EAAK,CAC3B,KAAM,CACJ,KAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,aAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA,wBAEeI,CAAa;AAAA,0BACXG,CAAY,UAAUN,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMZI,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILJ,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA,gBAIjD,CAEO,MAAMK,EAAYC,GAAQ,CAC/B,MAAMC,EAAYD,EAAK,IAAIV,CAAc,EAAE,KAAK,EAAE,EAClDD,EAAU,mBAAmB,YAAaY,CAAS,CACrD,ECnCMC,EAAS,SAAS,cAAc,mBAAmB,EACnDb,EAAY,SAAS,cAAc,eAAe,EAClDc,EAAW,IAAIC,EAAe,iBAAiB,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACb,CAAE,MAAAE,CAAK,EAAKD,EAAK,SACvBnB,EAAU,UAAY,GAEtBgB,EAAS,MAAM,QAAU,QAEzB,MAAMK,EAAcD,EAAM,MAAM,KAAI,EAEpC,GAAI,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,SAAU,WACV,UAAW,UACX,QAAS,2CACT,gBAAiB,SACvB,CAAK,EACDN,EAAS,MAAM,QAAU,OACzB,MACD,CAEDnB,EAASwB,CAAW,EACjB,KAAKV,GAAQ,CACZ,MAAMY,EAASZ,EAAK,KAEhBY,EAAO,SAAW,GACpBD,EAAS,MAAM,CACb,SAAU,WACV,UAAW,UACX,QAAS,gFACT,gBAAiB,SAC3B,CAAS,EACDT,EAAO,MAAK,IAEZb,EAAU,UAAY,GACtBU,EAAUa,CAAM,EAChBT,EAAS,QAAO,EAExB,CAAK,EACA,MAAMU,GAAO,CACZF,EAAS,MAAM,CACb,SAAU,WACV,UAAW,UACX,QAAS,6CACT,gBAAiB,SACzB,CAAO,EAED,QAAQ,IAAIE,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbR,EAAS,MAAM,QAAU,MAC/B,CAAK,EAEHH,EAAO,MAAK,CACd,CAEAA,EAAO,iBAAiB,SAAUI,CAAgB"}